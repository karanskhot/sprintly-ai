generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model UserProfile {
  id                        String    @id @unique @default(cuid())
  userId                    String    @unique
  email                     String? // Store email for reports
  sendDailyProgressReports  Boolean   @default(true)
  dailyProgressReportTime   String    @default("23:00")
  isDailyProgressReportSent Boolean   @default(false)
  lastReportSentAt          DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("profile")
}

model Story {
  id       String   @id @unique @default(cuid())
  userId   String
  name     String
  notes    String?
  dueDate  DateTime
  priority Priority @default(Low)
  status   Status   @default(Scheduled)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("stories")
}

enum Status {
  Active
  Completed
  Scheduled
  Archived
}

enum Priority {
  Low
  Medium
  High
}
